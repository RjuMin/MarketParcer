**–î–∞, —ç—Ç–æ—Ç –∫–æ–¥ –º–æ–∂–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ —Å–ª–µ–¥—É—é—â–∏—Ö —É—Å–ª–æ–≤–∏–π:**

---

### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã**
1. **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```bash
   composer require telegram-bot/api guzzlehttp/guzzle
   ```
2. **API-–∫–ª—é—á–∏**:
   - –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ (–ø–æ–ª—É—á–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)).
   - –ö–ª—é—á API OpenWeatherMap (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ [openweathermap.org](https://openweathermap.org/api)).
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**:
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è MySQL/PostgreSQL –±–∞–∑–∞ —Å —Ç–∞–±–ª–∏—Ü–µ–π `subscriptions`:
     ```sql
     CREATE TABLE subscriptions (
         id INT AUTO_INCREMENT PRIMARY KEY,
         chat_id BIGINT NOT NULL,
         city VARCHAR(100) NOT NULL,
         created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
     );
     ```
4. **–í–µ–±-—Å–µ—Ä–≤–µ—Ä**:
   - –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PHP (–≤–µ—Ä—Å–∏—è 7.4+).
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±—Ö—É–∫ –¥–ª—è Telegram.

---

### **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
#### 1. **–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–∞ —á–µ—Ä–µ–∑ `public/index.php`:
  ```php
  <?php
  require_once __DIR__ . '/../src/WeatherBot.php';
  $bot = new WeatherBot();
  $update = json_decode(file_get_contents('php://input'), true);
  $bot->handleUpdate($update);
  ```
- –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞:
  ```bash
  curl -X POST "https://api.telegram.org/bot<–í–ê–®_–¢–û–ö–ï–ù>/setWebhook?url=<–í–ê–®_–î–û–ú–ï–ù>/public/index.php"
  ```

#### 2. **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º**
- **–ö–æ–º–∞–Ω–¥—ã**:
  - `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π.
  - `üå§ –¢–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞` ‚Äî –∑–∞–ø—Ä–æ—Å –≥–æ—Ä–æ–¥–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã.
  - `üîî –ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏` ‚Äî —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫.
  - `/subscribe –ú–æ—Å–∫–≤–∞` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
  - `/unsubscribe –ú–æ—Å–∫–≤–∞` ‚Äî –æ—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏.

- **–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞**:
  ```
  üåç –ì–æ—Ä–æ–¥: –ú–æ—Å–∫–≤–∞
  üå° –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 20¬∞C
  üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å: 65%
  üå¨ –í–µ—Ç–µ—Ä: 5 –º/—Å
  _—è—Å–Ω–æ_
  ```

#### 3. **–†–∞–±–æ—Ç–∞ —Å API –ø–æ–≥–æ–¥—ã**
- –ö–ª–∞—Å—Å `WeatherAPI` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ OpenWeatherMap –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
  ```php
  [
      'temp' => 20,
      'humidity' => 65,
      'wind_speed' => 5,
      'description' => '—è—Å–Ω–æ'
  ]
  ```

#### 4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
- –ö–ª–∞—Å—Å `Database` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
  ```php
  $db->addSubscription(123456, '–ú–æ—Å–∫–≤–∞'); // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
  $db->getSubscriptions(123456); // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫
  ```

#### 5. **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron-–∑–∞–¥–∞—á–∏ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
  ```bash
  # /etc/crontab
  0 8 * * * php /var/www/project/cron_jobs/daily_notifications.php
  ```
- –ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞ `daily_notifications.php`:
  ```php
  <?php
  require_once __DIR__ . '/../src/WeatherBot.php';
  $bot = new WeatherBot();
  $bot->sendDailyNotifications();
  ```

---

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è**
1. **–ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**:
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥—ã.
   - –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –≥–æ—Ä–æ–¥–∞.
   - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –≥–æ—Ä–æ–¥–æ–≤.

2. **–ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏**:
   - **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è**: –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –ª–æ–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `$message->getLocation()`.
   - **–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ endpoint `/forecast` OpenWeatherMap.
   - **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–æ–±–∞–≤—å—Ç–µ Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API.
   - **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∑–∞–ø–∏—Å—å –æ—à–∏–±–æ–∫ –≤ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ `Logger.php`.

---

### **–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
1. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –∫–æ–º–∞–Ω–¥—É** `/start` ‚Äî –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
2. **–ù–∞–∂–º–∏—Ç–µ "üå§ –¢–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞"** –∏ –≤–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥ ‚Äî –±–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –ø–æ–≥–æ–¥—É.
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** `/subscribe –ú–æ—Å–∫–≤–∞` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ –¥–æ–±–∞–≤–∏—Ç—Å—è –≤ –±–∞–∑—É.
4. **–í 8:00 —É—Ç—Ä–∞** –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –ø–æ–≥–æ–¥–æ–π –≤ –ú–æ—Å–∫–≤–µ.

---

**–ò—Ç–æ–≥**: –ö–æ–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (API-–∫–ª—é—á–∏, –ë–î, cron). –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –¥–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫, —Ç–µ—Å—Ç—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.
